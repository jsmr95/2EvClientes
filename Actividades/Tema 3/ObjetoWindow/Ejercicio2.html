<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!--2. Crea un buscador para que tus visitantes puedan encontrar un texto cualquiera en tus páginas.
Pide al usuario que introduzca la cadena a buscar. Una vez hallado, pregunta si se desea
continuar la búsqueda y repite el proceso hasta que se le diga que pare o no encuentre más
coincidencias.
Modifícalo para que solo busque palabras completas.
Modifícalo para que distinga entre mayúsculas y minúsculas
Comprueba que le método existe en el navegador, en caso contrario, avisa al usuario.
    -->
    <title></title>
  </head>
  <body>
  <script type="text/javascript">
    var cuerpo = `DIEZ años han transcurrido desde la publicación de mi dQ (Eds. Carena, Barcelona,
2004). En ese tiempo había evitado caer en la tentación de volver al
Quijote: no hay nada peor que hacerte esclavo de tu criatura. Eso sí: fui tomando
notas para una futura revisión, pero a mi ritmo, consciente de que cuando volviese
a él habría de ser para revisarlo de cabo a rabo: o todo o nada. Así estaban las cosas cuando,
acercándose el IV Centenario de la publicación de la Segunda Parte del Quijote (1615)
y el de la muerte de Cervantes (1616), me dije «ahora o nunca» y decidí aplicarme ipso
facto a lo que había pospuesto sine die.
Por fortuna, he podido hacerlo en pocos meses, y ello sin pisar una biblioteca, sin salir
de casa, sin levantarme de la silla. Hoy se pueden consultar on line las reproducciones
fotográficas de las ediciones contemporáneas básicas (las tres de Madrid, las dos de Lisboa,
las de Valencia, Bruselas…), también las posteriores más elaboradas (Londres-1738,
RAE-1780 y 1819…), además de las Anotaciones de Bowle, el Comentario de Clemencín,
las dos ediciones de Hartzenbusch y sus 1633 Notas…, incluso infinitos artículos de revistas
relativos a Cervantes y al Quijote y completas colecciones de imágenes. Aparte de
eso, la web de la RAE ofrece herramientas de gran ayuda, como el acceso a multitud de
diccionarios (incluso anteriores al de Autoridades) y la búsqueda de concordancias en
el CORDE (Corpus Diacrónico del Español). Muchas de las facilidades que hoy ofrece
Internet estaban en sus albores (en funcionalidad y contenidos) hace unos quince años,
cuando empecé a preparar mi dQ de 2004.
Así que ahora, con tanta comodidad y documentación, con las notas que tenía acumuladas
y diez años de experiencia a las espaldas, he dispuesto de más tranquilidad para
la toma de decisiones en cuanto a la fijación del texto. La sintaxis de Cervantes tiene su
qué, porque fue de aquellos de «escribo como hablo» (y a veces pienso que escribía en voz
alta), y para subir a su montaña ha de llevarse la mochila muy pertrechada.`;
    document.write(cuerpo);

    var texto = prompt('Introduzca la cadena a buscar: ');
    //Primera opcion -->Cadena a buscar
    var ptt =new RegExp(`${texto}`,"gmi");
    //Segunda opcion -->Palabras completas
    // var ptt = new RegExp(`[\\s,\\.;:\\(]?${texto}[\\s,\\.;:\\)]`,"gmi");
    //Tercera opcion -->Que distanga entre mayúsculas y minúsculas.
    // var ptt = new RegExp(`[\\s,\\.;:\\(]?${texto}[\\s,\\.;:\\)]`,"gm");

    var cadena = ptt.exec(cuerpo);
    find(cadena);
    if (cadena == null ){
      console.log('La cadena no se encuentra. Prueba con otra.');
    }else {
    do{
      if(confirm('Desea seguir buscando?')){
        find(cadena);
        cadena = ptt.exec(cuerpo);
      }else {
        console.log('No se han encontrado coincidencias o no has querido buscar mas.');
        break;
      }
    }while(cadena != null);
  }

    if (!window.find){
      console.log('El navegador no soporta el método find.');
    }
  </script>
  </body>
</html>
